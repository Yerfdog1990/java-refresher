<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>Registration Page</title>

    <link rel="stylesheet" th:href="@{/css/styles.css}"/>
</head>
<body>
<div class="container auth-container">
    <h1>Registration page</h1>
    <div class="alert alert-info">An activation link will be sent to your email after registration.</div>
    <form id="studentForm" th:action="${student.id == null ? '/student/register' : '/users/' + student.id + '/edit'}" th:object="${student}" action="#" method="post">
        <div th:if="${#fields.hasErrors('global')}" th:errors="*{global}" class="alert alert-danger">Incorrect password confirmation</div>

        <div class="form-group">
            <label for="username">Username</label>
            <input id="username" type="text" title="username" th:field="*{username}"/>
            <div th:if="${#fields.hasErrors('username')}" th:errors="*{username}" class="field-error">Username Error</div>
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input id="email" type="email" title="email" th:field="*{email}"/>
            <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="field-error">Email Error</div>
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            <input id="password" type="password" title="password" th:field="*{password}"/>
            <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="field-error">Password Error</div>
        </div>
        <div class="form-group">
            <label for="passwordConfirmation">Password Confirmation</label>
            <input id="passwordConfirmation" type="password" title="passwordConfirmation" th:field="*{passwordConfirmation}"/>
            <div th:if="${#fields.hasErrors('passwordConfirmation')}" th:errors="*{passwordConfirmation}" class="field-error">Password Confirmation Error</div>
        </div>
        <div class="actions">
            <input type="submit" class="btn primary" th:value="${student.id == null ? 'Register' : 'Save Changes'}"/>
            <a class="btn" th:href="${student.id == null} ? @{/login} : @{/users}">[[${student.id == null ? 'Back to Login' : 'Back to Users'}]]</a>
        </div>
    </form>
</div>

</body>
</html>